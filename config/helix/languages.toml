[[language]]
name = "rust"
indent = { tab-width = 2, unit = "	"}

[[language]]
name = "python"
scope = "source.python"
injection-regex = "python"
file-types = ["py","pyi","py3","pyw","ptl",".pythonstartup",".pythonrc","SConstruct", "rpy", "cpy", "ipy", "pyt", "SConscript"]
shebangs = ["python"]
roots = ["pyproject.toml", "setup.py", "poetry.lock", "pyrightconfig.json"]
comment-token = "#"
# language-servers = [ "pylsp" ]
language-servers = ["pyright", "ruff"]
indent = { tab-width = 4, unit = "    " }
auto-format = true
rulers = [80, 120]

# [language.debugger]
# name = "debugpy"
# transport = "stdio"
# command = "python3"
# args = ["-m", "debugpy.adapter"]

[language.formatter]
command = "black"
args = [
  "-",
  "--quiet",
  "--line-length=80"
]

[language-server.pyright]
command = "pyright-langserver"
args = ["--stdio"]

[language-server.pyright.config]
reportMissingTypeStubs = false

[language-server.pyright.config.python.analysis]
typeCheckingMode = "basic"
autoImportCompletions = true

[language-server.ruff]
command = "ruff-lsp"

[language-server.ruff.config]
settings = {args = []}

[language-server.marksman]
command = "marksman"

[language-server.cspell]
command = "cspell-lsp"
args = ["--stdio"]

# [[language]]
# name = "shell"
# scope = "source.sh"
# file-types = ["sh"]
# roots = []
# shebangs = ["sh", "bash"]
# indent = { tab-width = 2, unit = "	"}
# auto-format = true

[[language]]
name = "html"
formatter = { command = 'prettier', args = ["--parser", "html"] }

[[language]]
name = "json"
formatter = { command = 'prettier', args = ["--parser", "json"] }

[[language]]
name = "css"
formatter = { command = 'prettier', args = ["--parser", "css"] }

[[language]]
name = "javascript"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }
auto-format = true

[[language]]
name = "typescript"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }
auto-format = true

[[language]]
name = "markdown"
auto-format = true
indent = { tab-width = 4, unit = "	" }
formatter = { command = "dprint", args = ["fmt", "--stdin", "-c", "dprint.json", "md"]}
rulers = [120]
language-servers = [ "marksman", "cspell" ]
# soft-wrap = true

[[language]]
name = "hcl"
formatter = { command = 'terraform', args = ["fmt", "-"] }
auto-format = true

[[language]]
name = "tfvars"
formatter = { command = 'terraform', args = ["fmt", "-"] }
auto-format = true
